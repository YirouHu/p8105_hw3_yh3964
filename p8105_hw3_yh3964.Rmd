---
title: "p8105_hw3_yh3964"
author: "Yirou Hu"
date: "2025-10-08"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Load packages and datasets
```{r}
library(patchwork)
library(tidyverse)
library(dplyr)
library(p8105.datasets)
data("instacart") 
```

Set the size of plots

```{r}
knitr::opts_chunk$set(
  fig.width = 6,
  fig.asp = 0.6,
  out.width = "90%"
)
```

Change legend position to bottom and remove the frame

```{r}
theme_set(theme_minimal() + theme(legend.position = "bottom")) 
```

We change continuous and discrete variables with "viridis" for color and fill

```{r}
options(
  ggplot2.continuous.colour = "viridis",
  ggplot2.continuous.fill = "viridis"
)

scale_colour_discrete = scale_colour_viridis_d
scale_fill_discrete = scale_fill_viridis_d
```


# Problem 1

The goal is to do some exploration of this dataset. To that end, write a short description of the dataset, noting the size and structure of the data, describing some key variables, and giving illstrative examples of observations. Then, do or answer the following (commenting on the results of each)

## How many aisles are there, and which aisles are the most items ordered from?

```{r}
aisles_number_df = 
  instacart |>
  group_by(aisle) |>
  summarize(count_aisle = n()) |>
  mutate(aisle_rank = rank(desc(count_aisle))) |>
  arrange(aisle_rank)
```

Dataset description:

The whole dataset provides detailed information on each product that customers ordered, including the product name, department, and aisle, as well as the information about the time they make this order, such as order_dow and order_hour_of_day. Additionally, it includes informaiton about whether the product was reordered, the order number, and the number of days since the prior order. The product id, aisle id and the order they belonged to are also provided.

There are `r length(unique(instacart$aisle))` aisles and `r aisles_number_df$aisle[which(aisles_number_df$aisle_rank ==1)]` is the aisle with the most items ordered from.












